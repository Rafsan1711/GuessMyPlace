<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>GuessMyPlace ğŸŒ</title>
<meta name="description" content="GuessMyPlace - AI-powered place guessing game. Think of any place and we'll guess it!"/>
<style>
:root {
  --bg:#07080f;--bg2:#0d0f1c;--bg3:#11142a;
  --card:#151828;--card2:#1b1f35;--card3:#1f2440;
  --border:#232847;--border2:#2e3560;--border3:#3a4180;
  --accent:#7c6fff;--accent2:#a89bff;--accent3:#4ade80;
  --accent4:#f472b6;--accent5:#fb923c;--accent6:#38bdf8;
  --text:#eceef8;--text2:#9ba3d4;--text3:#5a6394;
  --yes:#22c55e;--prob:#86efac;--maybe:#eab308;
  --probnot:#f97316;--no:#ef4444;
  --r:18px;--r2:13px;--r3:9px;
  --shadow:0 8px 32px rgba(0,0,0,.6);
  --glow:0 0 40px rgba(124,111,255,.12);
}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'Segoe UI',system-ui,sans-serif;min-height:100vh;overflow-x:hidden}

/* â”€â”€ Animated Background â”€â”€ */
.bg-wrap{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.bg-grid{
  position:absolute;inset:0;
  background-image:
    linear-gradient(rgba(124,111,255,.04) 1px,transparent 1px),
    linear-gradient(90deg,rgba(124,111,255,.04) 1px,transparent 1px);
  background-size:40px 40px;
  mask-image:radial-gradient(ellipse at 50% 50%,black 20%,transparent 75%);
}
.orb{position:absolute;border-radius:50%;filter:blur(100px);opacity:.14;animation:float 12s ease-in-out infinite}
.o1{width:600px;height:600px;background:radial-gradient(circle,#7c6fff,#a855f7,transparent 70%);top:-150px;left:-150px}
.o2{width:500px;height:500px;background:radial-gradient(circle,#f472b6,#ec4899,transparent 70%);bottom:-150px;right:-150px;animation-delay:-5s}
.o3{width:350px;height:350px;background:radial-gradient(circle,#4ade80,#22c55e,transparent 70%);top:40%;left:60%;animation-delay:-9s}
.o4{width:300px;height:300px;background:radial-gradient(circle,#38bdf8,#0ea5e9,transparent 70%);top:60%;left:10%;animation-delay:-3s}
@keyframes float{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(20px,-30px) scale(1.05)}66%{transform:translate(-15px,20px) scale(.97)}}
.noise{position:absolute;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");opacity:.4}

/* â”€â”€ Layout â”€â”€ */
#app{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column}

/* â”€â”€ Header â”€â”€ */
header{
  padding:14px 20px;display:flex;align-items:center;justify-content:space-between;
  border-bottom:1px solid rgba(35,40,71,.8);
  background:rgba(7,8,15,.85);backdrop-filter:blur(24px) saturate(180%);
  position:sticky;top:0;z-index:100;
}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none}
.logo-icon{
  width:38px;height:38px;border-radius:11px;flex-shrink:0;
  background:linear-gradient(135deg,#7c6fff,#f472b6);
  display:flex;align-items:center;justify-content:center;font-size:18px;
  box-shadow:0 0 20px rgba(124,111,255,.5);
  animation:iconPulse 3s ease-in-out infinite;
}
@keyframes iconPulse{0%,100%{box-shadow:0 0 20px rgba(124,111,255,.5)}50%{box-shadow:0 0 35px rgba(244,114,182,.6)}}
.logo-text{font-size:1.25rem;font-weight:900;letter-spacing:-.5px;color:var(--text)}
.logo-text em{font-style:normal;background:linear-gradient(135deg,var(--accent2),var(--accent4));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.logo-v{font-size:.62rem;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--accent4));color:#fff;padding:2px 7px;border-radius:20px;margin-left:4px;vertical-align:middle}
.hdr-stats{display:flex;gap:8px}
.hdr-pill{
  display:flex;align-items:center;gap:5px;padding:5px 11px;border-radius:20px;
  background:rgba(21,24,40,.9);border:1px solid var(--border);
  font-size:.76rem;color:var(--text2);
}
.hdr-pill strong{color:var(--text);font-weight:700}

/* â”€â”€ Main â”€â”€ */
main{flex:1;display:flex;flex-direction:column;align-items:center;padding:28px 14px 48px;gap:18px}
.screen{width:100%;max-width:660px;display:none;animation:fadeUp .4s cubic-bezier(.16,1,.3,1) both}
.screen.active{display:flex;flex-direction:column;gap:16px}
@keyframes fadeUp{from{opacity:0;transform:translateY(28px)}to{opacity:1;transform:translateY(0)}}

/* â”€â”€ Cards â”€â”€ */
.card{
  background:rgba(21,24,40,.9);border:1px solid var(--border);
  border-radius:var(--r);padding:22px;box-shadow:var(--shadow);
  backdrop-filter:blur(12px);
  position:relative;overflow:hidden;
}
.card::before{
  content:'';position:absolute;inset:0;pointer-events:none;border-radius:inherit;
  background:linear-gradient(135deg,rgba(124,111,255,.06),transparent 50%,rgba(244,114,182,.04));
}
.card-glow{box-shadow:var(--shadow),var(--glow)}

/* â”€â”€ Hero â”€â”€ */
.hero{text-align:center;padding:48px 28px 40px}
.hero-globe{
  font-size:5.5rem;display:block;margin-bottom:20px;
  animation:globeSpin 6s ease-in-out infinite;
  filter:drop-shadow(0 0 30px rgba(124,111,255,.5));
}
@keyframes globeSpin{0%,100%{transform:scale(1) rotate(-3deg)}50%{transform:scale(1.07) rotate(3deg)}}
.hero h1{font-size:clamp(2rem,5.5vw,3rem);font-weight:900;letter-spacing:-1.5px;line-height:1.05;margin-bottom:14px}
.hero h1 .g1{background:linear-gradient(135deg,#a89bff,#7c6fff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero h1 .g2{background:linear-gradient(135deg,#f472b6,#fb923c);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero-sub{color:var(--text2);font-size:.97rem;line-height:1.7;max-width:420px;margin:0 auto 32px}

.feature-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:28px}
.feat{
  background:rgba(17,20,42,.7);border:1px solid var(--border);border-radius:var(--r2);
  padding:16px 12px;text-align:center;transition:all .25s;cursor:default;
}
.feat:hover{border-color:var(--accent);background:rgba(124,111,255,.08);transform:translateY(-3px)}
.feat-i{font-size:1.6rem;margin-bottom:8px}
.feat-t{font-size:.79rem;font-weight:700;color:var(--text);margin-bottom:3px}
.feat-d{font-size:.72rem;color:var(--text3);line-height:1.4}

/* â”€â”€ Buttons â”€â”€ */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:7px;
  padding:13px 24px;border-radius:var(--r2);font-size:.95rem;font-weight:700;
  cursor:pointer;border:none;transition:all .2s cubic-bezier(.4,0,.2,1);
  letter-spacing:.1px;position:relative;overflow:hidden;outline:none;
  -webkit-user-select:none;user-select:none;
}
.btn::after{content:'';position:absolute;inset:0;background:linear-gradient(rgba(255,255,255,.08),transparent);opacity:0;transition:opacity .2s}
.btn:hover::after{opacity:1}
.btn:active{transform:scale(.97)!important}

.btn-start{
  background:linear-gradient(135deg,#7c6fff,#a855f7);color:#fff;
  box-shadow:0 4px 24px rgba(124,111,255,.45);
  width:100%;font-size:1.05rem;padding:17px;border-radius:var(--r);
}
.btn-start:hover{transform:translateY(-3px);box-shadow:0 10px 35px rgba(124,111,255,.55)}

/* Answer buttons â€” 5 options */
.answer-grid{display:grid;grid-template-columns:1fr 1fr;gap:9px;margin-top:20px}
.answer-grid .btn-dk{grid-column:1/-1}
.abtn{border-radius:var(--r2);font-size:.88rem;padding:13px 10px;flex-direction:column;gap:3px;line-height:1.2}
.abtn .alabel{font-size:.68rem;font-weight:600;opacity:.75;letter-spacing:.4px;text-transform:uppercase}

.btn-yes{background:linear-gradient(135deg,#15803d,#22c55e);color:#fff;box-shadow:0 4px 18px rgba(34,197,94,.3)}
.btn-yes:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(34,197,94,.45)}
.btn-prob{background:linear-gradient(135deg,#166534,#4ade80);color:#fff;box-shadow:0 4px 18px rgba(74,222,128,.25)}
.btn-prob:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(74,222,128,.38)}
.btn-dk{background:linear-gradient(135deg,#78350f,#eab308);color:#fff;box-shadow:0 4px 18px rgba(234,179,8,.25)}
.btn-dk:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(234,179,8,.38)}
.btn-probnot{background:linear-gradient(135deg,#9a3412,#f97316);color:#fff;box-shadow:0 4px 18px rgba(249,115,22,.25)}
.btn-probnot:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(249,115,22,.38)}
.btn-no{background:linear-gradient(135deg,#991b1b,#ef4444);color:#fff;box-shadow:0 4px 18px rgba(239,68,68,.3)}
.btn-no:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(239,68,68,.45)}

.btn-win{background:linear-gradient(135deg,#065f46,#10b981);color:#fff;box-shadow:0 4px 18px rgba(16,185,129,.35);grid-column:1/-1}
.btn-win:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(16,185,129,.5)}
.btn-wrong{background:rgba(27,31,53,.9);color:var(--text2);border:1px solid var(--border)}
.btn-wrong:hover{color:var(--text);border-color:var(--border3)}
.btn-ghost{background:transparent;color:var(--text3);border:1px solid var(--border);font-size:.85rem;padding:10px 18px}
.btn-ghost:hover{color:var(--text2);border-color:var(--border2)}
.btn-reveal-final{background:linear-gradient(135deg,#86198f,#f472b6);color:#fff;box-shadow:0 4px 18px rgba(244,114,182,.3);width:100%}
.btn-reveal-final:hover{transform:translateY(-2px)}

/* â”€â”€ Progress â”€â”€ */
.prog-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.prog-label{font-size:.74rem;font-weight:700;color:var(--text3);letter-spacing:.5px;text-transform:uppercase}
.prog-num{font-size:.78rem;font-weight:700;color:var(--accent2);background:rgba(124,111,255,.12);padding:3px 10px;border-radius:20px}
.prog-track{height:5px;background:rgba(255,255,255,.05);border-radius:3px;overflow:hidden}
.prog-fill{
  height:100%;border-radius:3px;transition:width .6s cubic-bezier(.4,0,.2,1);
  background:linear-gradient(90deg,var(--accent),var(--accent4));
  box-shadow:0 0 10px rgba(124,111,255,.6);
  position:relative;
}
.prog-fill::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);
  animation:shimmer 2s infinite;
}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(200%)}}

/* candidate meter */
.cand-row{display:flex;align-items:center;gap:10px;margin-top:12px}
.cand-icon{font-size:1rem}
.cand-label{font-size:.8rem;color:var(--text3);flex:1}
.cand-track{height:4px;flex:2;background:rgba(255,255,255,.05);border-radius:2px;overflow:hidden}
.cand-fill{height:100%;background:linear-gradient(90deg,var(--accent3),var(--accent6));border-radius:2px;transition:width .5s ease}
.cand-num{font-size:.82rem;font-weight:800;color:var(--accent3);min-width:28px;text-align:right}

/* â”€â”€ Question â”€â”€ */
.q-tag{
  display:inline-flex;align-items:center;gap:6px;
  font-size:.7rem;font-weight:700;letter-spacing:.6px;text-transform:uppercase;
  color:var(--accent2);background:rgba(124,111,255,.13);
  border:1px solid rgba(124,111,255,.2);
  padding:3px 12px;border-radius:20px;margin-bottom:14px;
}
.q-dot{width:6px;height:6px;border-radius:50%;background:var(--accent);animation:blink 1.2s ease-in-out infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
.q-text{font-size:clamp(1.05rem,3vw,1.25rem);font-weight:700;line-height:1.5;color:var(--text);margin-bottom:6px}
.q-hint{font-size:.76rem;color:var(--text3);font-style:italic;line-height:1.4}

/* â”€â”€ History â”€â”€ */
.hist-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.hist-title{font-size:.76rem;font-weight:700;color:var(--text3);letter-spacing:.5px;text-transform:uppercase}
.hist-list{display:flex;flex-direction:column;gap:5px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--border) transparent}
.hi{
  display:flex;align-items:center;gap:9px;padding:8px 11px;border-radius:var(--r3);
  background:rgba(11,13,26,.6);border-left:3px solid transparent;
  font-size:.79rem;animation:slideIn .2s ease;
}
@keyframes slideIn{from{opacity:0;transform:translateX(-8px)}to{opacity:1;transform:translateX(0)}}
.hi-yes{border-color:var(--yes)}
.hi-prob{border-color:var(--prob)}
.hi-dk{border-color:var(--maybe)}
.hi-probnot{border-color:var(--probnot)}
.hi-no{border-color:var(--no)}
.hi-q{flex:1;color:var(--text2);line-height:1.4}
.hi-badge{font-size:.66rem;font-weight:700;padding:2px 8px;border-radius:10px;white-space:nowrap;flex-shrink:0}
.b-yes{background:rgba(34,197,94,.13);color:#22c55e}
.b-prob{background:rgba(134,239,172,.13);color:#86efac}
.b-dk{background:rgba(234,179,8,.13);color:#eab308}
.b-probnot{background:rgba(249,115,22,.13);color:#f97316}
.b-no{background:rgba(239,68,68,.13);color:#ef4444}

/* â”€â”€ Guess Screen â”€â”€ */
.guess-header{text-align:center;padding:32px 24px 28px}
.guess-header::before{
  content:'';position:absolute;inset:0;
  background:radial-gradient(ellipse at 50% 0%,rgba(124,111,255,.14),transparent 65%);
  pointer-events:none;
}
.thinking-anim{display:flex;align-items:center;justify-content:center;gap:6px;margin-bottom:18px}
.t-dot{width:7px;height:7px;border-radius:50%;background:var(--accent);animation:tdot .7s ease-in-out infinite}
.t-dot:nth-child(2){animation-delay:.12s;background:var(--accent4)}
.t-dot:nth-child(3){animation-delay:.24s;background:var(--accent3)}
@keyframes tdot{0%,100%{transform:translateY(0);opacity:.5}50%{transform:translateY(-8px);opacity:1}}
.guess-badge{display:inline-flex;align-items:center;gap:6px;background:rgba(124,111,255,.13);border:1px solid rgba(124,111,255,.25);padding:4px 14px;border-radius:20px;font-size:.72rem;font-weight:700;color:var(--accent2);margin-bottom:14px;letter-spacing:.4px}
.guess-name{font-size:clamp(1.9rem,5.5vw,3rem);font-weight:900;letter-spacing:-1.5px;line-height:1;margin-bottom:10px}
.guess-name span{background:linear-gradient(135deg,var(--accent2),var(--accent4),var(--accent5));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.guess-loc{display:inline-flex;align-items:center;gap:6px;color:var(--text2);font-size:.88rem;background:rgba(255,255,255,.05);border:1px solid var(--border);padding:6px 16px;border-radius:20px;margin-bottom:20px}

/* confidence bar */
.conf-wrap{margin-bottom:24px}
.conf-row{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:8px}
.conf-label{font-size:.76rem;color:var(--text3);font-weight:600;letter-spacing:.3px}
.conf-pct{font-size:1rem;font-weight:900;color:var(--accent2)}
.conf-track{height:6px;background:rgba(255,255,255,.06);border-radius:3px;overflow:hidden;max-width:280px;margin:0 auto}
.conf-fill{height:100%;border-radius:3px;background:linear-gradient(90deg,var(--accent),var(--accent4));transition:width .8s cubic-bezier(.4,0,.2,1);box-shadow:0 0 12px rgba(124,111,255,.5)}

.guess-actions{display:grid;grid-template-columns:1fr 1fr;gap:10px}

/* â”€â”€ Win Screen â”€â”€ */
.win-body{text-align:center;padding:36px 24px}
.win-gfx{
  font-size:4.5rem;margin-bottom:16px;display:block;
  animation:winBounce .5s cubic-bezier(.36,.07,.19,.97) infinite alternate;
  filter:drop-shadow(0 0 20px rgba(124,111,255,.4));
}
@keyframes winBounce{from{transform:translateY(0) scale(1)}to{transform:translateY(-14px) scale(1.05)}}
.win-h{font-size:1.7rem;font-weight:900;margin-bottom:6px}
.win-place-name{
  font-size:1.5rem;font-weight:800;margin-bottom:22px;
  background:linear-gradient(135deg,var(--accent2),var(--accent4));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:18px}
.stat-c{background:rgba(11,13,26,.7);border:1px solid var(--border);border-radius:var(--r2);padding:14px 8px;text-align:center}
.stat-v{font-size:1.6rem;font-weight:900;background:linear-gradient(135deg,var(--accent2),var(--accent4));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stat-l{font-size:.68rem;color:var(--text3);margin-top:3px;font-weight:700;letter-spacing:.5px;text-transform:uppercase}

/* particles */
.particles{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.p{position:absolute;width:5px;height:5px;border-radius:50%;animation:pfloat linear infinite}
@keyframes pfloat{from{transform:translateY(100px) rotate(0deg);opacity:1}to{transform:translateY(-400px) rotate(720deg);opacity:0}}

/* â”€â”€ Reveal Screen â”€â”€ */
.reveal-wrap{padding:12px 0}
.reveal-input{
  width:100%;background:rgba(11,13,26,.9);border:1px solid var(--border);
  color:var(--text);padding:14px 16px;border-radius:var(--r2);
  font-size:.95rem;outline:none;transition:all .2s;margin:14px 0 8px;
}
.reveal-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(124,111,255,.15)}
.reveal-input::placeholder{color:var(--text3)}
.chips{display:flex;flex-wrap:wrap;gap:7px;margin-bottom:14px}
.chip{
  background:rgba(21,24,40,.9);border:1px solid var(--border);
  color:var(--text2);padding:5px 12px;border-radius:20px;
  font-size:.76rem;cursor:pointer;transition:all .2s;font-weight:600;
}
.chip:hover{background:rgba(124,111,255,.12);color:var(--text);border-color:var(--accent);transform:translateY(-1px)}

/* â”€â”€ How To Play â”€â”€ */
.how-head{font-size:.75rem;font-weight:700;color:var(--text3);letter-spacing:.5px;text-transform:uppercase;margin-bottom:14px}
.steps{display:flex;flex-direction:column;gap:11px}
.step{display:flex;align-items:flex-start;gap:12px}
.step-n{
  width:28px;height:28px;border-radius:50%;flex-shrink:0;
  background:linear-gradient(135deg,var(--accent),#8b5cf6);
  display:flex;align-items:center;justify-content:center;
  font-size:.72rem;font-weight:800;color:#fff;box-shadow:0 2px 10px rgba(124,111,255,.4);
}
.step-t{font-size:.84rem;color:var(--text2);line-height:1.55;padding-top:4px}
.step-t strong{color:var(--text)}

/* â”€â”€ Answer Key â”€â”€ */
.ans-key{display:grid;grid-template-columns:repeat(5,1fr);gap:6px;margin:14px 0}
.ak{background:rgba(11,13,26,.7);border-radius:var(--r3);padding:10px 6px;text-align:center;border:1px solid var(--border)}
.ak-dot{width:10px;height:10px;border-radius:50%;margin:0 auto 5px}
.ak-label{font-size:.68rem;font-weight:700;color:var(--text2)}

/* â”€â”€ Toast â”€â”€ */
#toast{
  position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(120px);
  background:rgba(21,24,40,.97);border:1px solid var(--border2);
  color:var(--text);padding:11px 20px;border-radius:var(--r2);
  font-size:.87rem;font-weight:600;white-space:nowrap;
  box-shadow:0 8px 32px rgba(0,0,0,.5);z-index:1000;
  transition:transform .35s cubic-bezier(.16,1,.3,1);pointer-events:none;
  backdrop-filter:blur(16px);
}
#toast.show{transform:translateX(-50%) translateY(0)}

/* â”€â”€ Footer â”€â”€ */
footer{
  text-align:center;padding:14px;border-top:1px solid var(--border);
  font-size:.74rem;color:var(--text3);background:rgba(7,8,15,.7);
  backdrop-filter:blur(12px);
}
footer a{color:var(--accent2);text-decoration:none}
footer a:hover{text-decoration:underline}

/* â”€â”€ Scrollbar â”€â”€ */
::-webkit-scrollbar{width:4px;height:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
::-webkit-scrollbar-thumb:hover{background:var(--border2)}

/* â”€â”€ Responsive â”€â”€ */
@media(max-width:520px){
  header{padding:12px 14px}
  .logo-text{font-size:1.1rem}
  .hdr-pill{padding:4px 9px;font-size:.72rem}
  main{padding:16px 10px 36px;gap:14px}
  .hero{padding:32px 16px 28px}
  .hero-globe{font-size:4rem}
  .card{padding:16px}
  .feature-grid{grid-template-columns:1fr 1fr}
  .feat:nth-child(3){grid-column:1/-1}
  .answer-grid{grid-template-columns:1fr 1fr}
  .guess-actions{grid-template-columns:1fr}
  .btn-win{grid-column:auto}
  .stats-row{gap:7px}
  .stat-v{font-size:1.3rem}
  .ans-key{grid-template-columns:1fr 1fr}
  .ans-key .ak:last-child{grid-column:1/-1}
}
</style>
</head>
<body>
<div class="bg-wrap">
  <div class="bg-grid"></div>
  <div class="orb o1"></div><div class="orb o2"></div>
  <div class="orb o3"></div><div class="orb o4"></div>
  <div class="noise"></div>
</div>
<div id="app">
<header>
  <div class="logo">
    <div class="logo-icon">ğŸŒ</div>
    <span class="logo-text">Guess<em>MyPlace</em><span class="logo-v">v1.0</span></span>
  </div>
  <div class="hdr-stats">
    <div class="hdr-pill">ğŸ® <strong id="hdr-g">0</strong></div>
    <div class="hdr-pill">ğŸ† <strong id="hdr-w">0</strong></div>
    <div class="hdr-pill">ğŸ”¥ <strong id="hdr-s">0</strong></div>
  </div>
</header>

<main>

<!-- â•â•â• WELCOME â•â•â• -->
<div id="s-welcome" class="screen active">
  <div class="card card-glow hero">
    <span class="hero-globe">ğŸŒ</span>
    <h1>Think of a <span class="g1">Place.</span><br/>We'll <span class="g2">Guess it!</span></h1>
    <p class="hero-sub">Any landmark, city, mountain, desert, island or wonder â€” our AI will figure it out through clever Yes/No questions.</p>
    <button class="btn btn-start" onclick="startGame()">ğŸš€ &nbsp;Start Guessing</button>
  </div>

  <div class="card">
    <div class="how-head">ğŸ® HOW TO PLAY</div>
    <div class="steps">
      <div class="step"><div class="step-n">1</div><div class="step-t"><strong>Think of any famous place</strong> in the world â€” landmark, natural wonder, city, islandâ€¦</div></div>
      <div class="step"><div class="step-n">2</div><div class="step-t"><strong>Answer each question</strong> as honestly as possible using the 5 response options below.</div></div>
      <div class="step"><div class="step-n">3</div><div class="step-t"><strong>We'll guess your place</strong> â€” our engine narrows it down fast. Usually under 15 questions!</div></div>
    </div>
    <div class="ans-key" style="margin-top:16px">
      <div class="ak"><div class="ak-dot" style="background:#22c55e"></div><div class="ak-label">Yes</div></div>
      <div class="ak"><div class="ak-dot" style="background:#86efac"></div><div class="ak-label">Probably</div></div>
      <div class="ak"><div class="ak-dot" style="background:#eab308"></div><div class="ak-label">I Don't Know</div></div>
      <div class="ak"><div class="ak-dot" style="background:#f97316"></div><div class="ak-label">Prob. Not</div></div>
      <div class="ak"><div class="ak-dot" style="background:#ef4444"></div><div class="ak-label">No</div></div>
    </div>
  </div>

  <div class="card">
    <div class="feature-grid">
      <div class="feat"><div class="feat-i">ğŸ§ </div><div class="feat-t">Bayesian AI</div><div class="feat-d">Probabilistic scoring engine</div></div>
      <div class="feat"><div class="feat-i">ğŸŒ</div><div class="feat-t">Global Places</div><div class="feat-d">Wonders from every continent</div></div>
      <div class="feat"><div class="feat-i">âš¡</div><div class="feat-t">Fast</div><div class="feat-d">Usually under 15 questions</div></div>
    </div>
  </div>
</div>

<!-- â•â•â• GAME â•â•â• -->
<div id="s-game" class="screen">
  <div class="card">
    <div class="prog-head">
      <span class="prog-label">âš¡ Progress</span>
      <span class="prog-num" id="prog-num">Q1 / 20</span>
    </div>
    <div class="prog-track"><div class="prog-fill" id="prog-fill" style="width:0%"></div></div>
    <div class="cand-row">
      <span class="cand-icon">ğŸ¯</span>
      <span class="cand-label">Candidates remaining</span>
      <div class="cand-track"><div class="cand-fill" id="cand-fill" style="width:100%"></div></div>
      <span class="cand-num" id="cand-num">20</span>
    </div>
  </div>

  <div class="card card-glow">
    <div class="q-tag"><span class="q-dot"></span><span id="q-badge">QUESTION 1</span></div>
    <div class="q-text" id="q-text">Loadingâ€¦</div>
    <div class="q-hint" id="q-hint"></div>

    <div class="answer-grid">
      <button class="btn abtn btn-yes"    onclick="answer('yes')">   âœ… Yes      <span class="alabel">Definitely</span></button>
      <button class="btn abtn btn-prob"   onclick="answer('prob')">  ğŸŸ¢ Probably <span class="alabel">Most likely</span></button>
      <button class="btn abtn btn-dk"     onclick="answer('dk')">    ğŸ¤” I Don't Know <span class="alabel">Uncertain</span></button>
      <button class="btn abtn btn-probnot"onclick="answer('probnot')">ğŸŸ  Probably Not<span class="alabel">Unlikely</span></button>
      <button class="btn abtn btn-no"     onclick="answer('no')">    âŒ No       <span class="alabel">Definitely not</span></button>
    </div>
  </div>

  <div class="card" id="hist-card" style="display:none">
    <div class="hist-head">
      <span class="hist-title">ğŸ“œ Answer History</span>
      <button class="btn btn-ghost" onclick="resetGame()">ğŸ”„ New</button>
    </div>
    <div class="hist-list" id="hist-list"></div>
  </div>
</div>

<!-- â•â•â• GUESS â•â•â• -->
<div id="s-guess" class="screen">
  <div class="card card-glow guess-header">
    <div class="thinking-anim"><div class="t-dot"></div><div class="t-dot"></div><div class="t-dot"></div></div>
    <div class="guess-badge">ğŸ’¡ MY GUESS ISâ€¦</div>
    <div class="guess-name"><span id="g-name">?</span></div>
    <div><span class="guess-loc">ğŸ“ <span id="g-loc">Unknown</span></span></div>
    <div class="conf-wrap">
      <div class="conf-row">
        <span class="conf-label">CONFIDENCE</span>
        <span class="conf-pct" id="g-pct">0%</span>
      </div>
      <div class="conf-track"><div class="conf-fill" id="g-conf-fill" style="width:0%"></div></div>
    </div>
    <div class="guess-actions">
      <button class="btn btn-win"   onclick="correctGuess()">ğŸ‰ Yes, that's it!</button>
      <button class="btn btn-wrong" onclick="wrongGuess()">âŒ Not quiteâ€¦</button>
      <button class="btn btn-ghost" onclick="resetGame()" style="grid-column:1/-1">ğŸ”„ Give up & restart</button>
    </div>
  </div>
  <div class="card" id="g-hist-wrap">
    <div class="hist-head"><span class="hist-title">ğŸ“œ Your Answers</span></div>
    <div class="hist-list" id="g-hist"></div>
  </div>
</div>

<!-- â•â•â• WIN â•â•â• -->
<div id="s-win" class="screen">
  <div class="card card-glow win-body" style="position:relative">
    <div class="particles" id="particles"></div>
    <span class="win-gfx" id="win-gfx">ğŸ‰</span>
    <div class="win-h">I got it right! ğŸ§ </div>
    <div class="win-place-name" id="win-pname">â€“</div>
    <div class="stats-row">
      <div class="stat-c"><div class="stat-v" id="st-q">0</div><div class="stat-l">Questions</div></div>
      <div class="stat-c"><div class="stat-v" id="st-c">0%</div><div class="stat-l">Confidence</div></div>
      <div class="stat-c"><div class="stat-v" id="st-s">0</div><div class="stat-l">Streak ğŸ”¥</div></div>
    </div>
    <button class="btn btn-start" onclick="startGame()" style="margin-bottom:10px">ğŸš€ Play Again</button>
    <button class="btn btn-ghost" style="width:100%" onclick="showS('s-welcome')">ğŸ  Home</button>
  </div>
</div>

<!-- â•â•â• REVEAL (failed) â•â•â• -->
<div id="s-reveal" class="screen">
  <div class="card card-glow">
    <div style="font-size:3.5rem;margin-bottom:12px;animation:float 3s ease-in-out infinite">ğŸ˜…</div>
    <div class="win-h" style="font-size:1.5rem;margin-bottom:8px">You stumped me!</div>
    <p style="color:var(--text2);font-size:.88rem;line-height:1.6;margin-bottom:4px">I ran out of ideas! Would you like to reveal the place so we can learn from it?</p>
    <div class="reveal-wrap">
      <input type="text" class="reveal-input" id="reveal-in" placeholder="What place were you thinking of?" oninput="onReveal()"/>
      <div class="chips" id="reveal-chips"></div>
      <button class="btn btn-reveal-final" onclick="doReveal()">ğŸŒ Reveal the Place</button>
      <button class="btn btn-ghost" style="width:100%;margin-top:8px" onclick="resetGame()">ğŸ”„ Try Another Place</button>
    </div>
  </div>
</div>

</main>
<footer>ğŸŒ <strong>GuessMyPlace</strong> v1.0.0 â€” Open Source &bull; <a href="https://github.com" target="_blank">GitHub</a> &bull; Made with â¤ï¸</footer>
</div>
<div id="toast"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  GuessMyPlace v1.0.0 â€” Enhanced Bayesian Engine
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Answer weights for Bayesian scoring
// yes=1, prob=0.75, dk=0.5, probnot=0.25, no=0
const W = { yes:1, prob:.75, dk:.5, probnot:.25, no:0 };

// Attribute true value required:
// For attribute=true: higher answer weight = more likely match
// For attribute=false: higher answer weight = less likely match (inverted)

const STATE = {
  places:[], questions:[],
  candidates:[],   // {place, prob} â€” Bayesian probability objects
  asked:[], answers:{},
  qIdx:0, maxQ:20,
  games:0, wins:0, streak:0,
  guess:null, dataOk:false,
  totalPlaces:0
};

// â”€â”€ Load Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function loadData(){
  try{
    const r = await fetch('./data/places.json');
    if(!r.ok) throw new Error();
    const d = await r.json();
    STATE.places = d.places;
    STATE.questions = d.questions;
    STATE.dataOk = true;
    STATE.totalPlaces = d.places.length;
  } catch(e){
    console.warn('data/places.json not found â€” game may not work');
    showToast('âš ï¸ Could not load places.json â€” check your file path');
  }
}

// â”€â”€ Screens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showS(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo({top:0,behavior:'smooth'});
}

// â”€â”€ Game Start â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function startGame(){
  if(!STATE.dataOk || !STATE.places.length){ loadData().then(()=>setTimeout(startGame,200)); return; }
  // Init uniform probabilities
  const unif = 1 / STATE.places.length;
  STATE.candidates = STATE.places.map(p => ({ place:p, prob:unif }));
  STATE.asked = []; STATE.answers = {}; STATE.qIdx = 0; STATE.guess = null;
  document.getElementById('hist-list').innerHTML = '';
  document.getElementById('hist-card').style.display = 'none';
  STATE.games++;
  updateHdr();
  showS('s-game');
  nextQ();
}

// â”€â”€ Bayesian Update â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// P(place | answer) âˆ P(answer | place) Ã— P(place)
// P(answer | place) = how well the answer matches the attribute value
function bayesUpdate(q, ans){
  const w = W[ans]; // 0..1
  STATE.candidates = STATE.candidates.map(({place, prob}) => {
    const val = place.attributes[q.attribute];
    // Likelihood: if val=true, likelihood = w; if val=false, likelihood = 1-w
    // For 'dk' (0.5), both true and false get likelihood 0.5 â€” no update
    const likelihood = val === true ? w : (1 - w);
    // Add small epsilon to avoid zero probabilities (Laplace smoothing)
    return { place, prob: prob * (likelihood + 0.001) };
  });
  normalize();
}

function normalize(){
  const total = STATE.candidates.reduce((s,c) => s + c.prob, 0);
  if(total === 0) return;
  STATE.candidates = STATE.candidates.map(c => ({ ...c, prob: c.prob / total }));
}

// â”€â”€ Question Picker (Entropy-based) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Pick the question that maximizes expected information gain
// = minimizes expected entropy after asking
function pickBestQ(){
  const avail = STATE.questions.filter(q => !STATE.asked.includes(q.id));
  if(!avail.length) return null;

  let best = null, bestIG = -1;
  for(const q of avail){
    const ig = infoGain(q);
    if(ig > bestIG){ bestIG = ig; best = q; }
  }
  return best;
}

function infoGain(q){
  // Expected information gain = current entropy - expected posterior entropy
  // We compute the expected entropy over all 5 answer choices
  let totalExpectedEntropy = 0;

  for(const ans of ['yes','prob','dk','probnot','no']){
    const w = W[ans];
    // Compute posterior probabilities if this answer were given
    let posterior = STATE.candidates.map(({place, prob}) => {
      const val = place.attributes[q.attribute];
      const lk = val === true ? w : (1-w);
      return prob * (lk + 0.001);
    });
    const pSum = posterior.reduce((s,p)=>s+p,0);
    if(pSum < 1e-10) continue;
    posterior = posterior.map(p=>p/pSum);

    // Probability of this answer occurring
    const pAns = pSum / STATE.candidates.reduce((s,c)=>s+c.prob,0) || 0.2;
    // Entropy of posterior
    const H = entropy(posterior);
    totalExpectedEntropy += pAns * H;
  }

  const currentH = entropy(STATE.candidates.map(c=>c.prob));
  const ig = (currentH - totalExpectedEntropy) * (q.weight / 10);
  return ig;
}

function entropy(probs){
  return -probs.reduce((s,p) => {
    if(p < 1e-10) return s;
    return s + p * Math.log2(p);
  }, 0);
}

// â”€â”€ Best Candidate â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function bestCand(){
  if(!STATE.candidates.length) return {place:STATE.places[0], prob:0.01};
  return STATE.candidates.reduce((a,b) => b.prob > a.prob ? b : a);
}

// â”€â”€ Confidence Calculation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function calcConf(topProb){
  // Convert raw probability to a human-readable confidence %
  // Use a sigmoid-like scaling
  const n = STATE.candidates.length;
  // After Bayesian updates, top prob naturally reflects confidence
  // We scale it to a 40â€“98% range for UX
  const base = Math.min(98, Math.round(topProb * 100 * 1.6));
  return Math.max(38, Math.min(98, base));
}

// â”€â”€ Decision: Guess or Continue â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function shouldGuess(){
  // Never guess before asking at least 3 questions
  if(STATE.qIdx < 3) return false;

  const best = bestCand();
  const dominates = best.prob;

  // Count meaningfully active candidates (prob > 1% of uniform)
  const threshold = 0.8 / STATE.totalPlaces;
  const activeCands = STATE.candidates.filter(c => c.prob > threshold).length;

  if(activeCands <= 1) return true;                             // Only 1 real candidate
  if(dominates >= 0.92) return true;                           // Overwhelming confidence
  if(dominates >= 0.82 && STATE.qIdx >= 5) return true;
  if(dominates >= 0.72 && STATE.qIdx >= 8) return true;
  if(dominates >= 0.62 && STATE.qIdx >= 12) return true;
  if(activeCands <= 2 && STATE.qIdx >= 10) return true;
  if(STATE.qIdx >= STATE.maxQ) return true;                    // Forced guess
  return false;
}

// â”€â”€ Next Question â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function nextQ(){
  // Check if we have candidates
  if(!STATE.candidates.length){ showS('s-reveal'); return; }
  if(shouldGuess()){
    const best = bestCand();
    doGuess(best.place, calcConf(best.prob));
    return;
  }
  const q = pickBestQ();
  if(!q){ const b=bestCand(); doGuess(b.place,calcConf(b.prob)); return; }
  STATE.asked.push(q.id);
  renderQ(q);
}

// â”€â”€ Render Question â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderQ(q){
  const num = STATE.qIdx + 1;
  document.getElementById('q-badge').textContent = `QUESTION ${num}`;
  document.getElementById('q-text').textContent   = q.text;
  document.getElementById('prog-num').textContent  = `Q${num} / ${STATE.maxQ}`;
  document.getElementById('prog-fill').style.width = Math.round(num/STATE.maxQ*100)+'%';

  // Candidates bar
  const top = bestCand();
  const sorted = [...STATE.candidates].sort((a,b)=>b.prob-a.prob);
  const activeCands = sorted.filter(c=>c.prob > 0.005).length;
  document.getElementById('cand-num').textContent = activeCands;
  document.getElementById('cand-fill').style.width = Math.round(activeCands/STATE.totalPlaces*100)+'%';

  // Hints
  const hints = {
    isManmade:'Think: built by humans â€” buildings, walls, towers, damsâ€¦',
    isNatural:'Formed without human construction â€” rivers, mountains, forestsâ€¦',
    isAncient:'Created or formed more than 500 years ago.',
    isModern:'Built or established in the last 200 years.',
    isInAsia:'Includes East Asia, South Asia, Southeast Asia, Central Asia and Middle East.',
    isInEurope:'Any country within the European continent.',
    isInAfrica:'Any country within the African continent.',
    isInAmericas:'North America, Central America, South America or the Caribbean.',
    isInOceania:'Australia, New Zealand, Pacific islands.',
    isHeritage:'Officially listed as a UNESCO World Heritage Site.',
    isUnderWater:'Fully or partially submerged â€” coral reefs, sunken placesâ€¦',
    isTall:'A structure notably taller than surrounding terrain â€” towers, skyscrapers, very tall cliffs.',
    isOnIsland:'Surrounded by water on all sides â€” an actual island.',
    isInMiddleEast:'Countries like UAE, Jordan, Egypt, Saudi Arabia, Israel, Iranâ€¦',
    isCold:'Experiences snow, ice or arctic/subarctic conditions regularly.',
    isWarm:'Tropical or subtropical warm climate year-round.',
    isVolcano:'An active, dormant or extinct volcanic landform.',
  };
  document.getElementById('q-hint').textContent = hints[q.attribute] || '';
}

// â”€â”€ Answer Handler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function answer(ans){
  const qId = STATE.asked[STATE.asked.length-1];
  const q   = STATE.questions.find(q=>q.id===qId);
  if(!q) return;
  STATE.answers[qId] = ans;
  bayesUpdate(q, ans);
  addHist(q.text, ans);
  STATE.qIdx++;
  nextQ();
}

// â”€â”€ History â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function addHist(text, ans){
  const list = document.getElementById('hist-list');
  const labels = {yes:'âœ… YES', prob:'ğŸŸ¢ PROBABLY', dk:'ğŸ¤” IDK', probnot:'ğŸŸ  PROB. NOT', no:'âŒ NO'};
  const cls    = {yes:'b-yes', prob:'b-prob', dk:'b-dk', probnot:'b-probnot', no:'b-no'};
  const row = document.createElement('div');
  row.className = `hi hi-${ans}`;
  row.innerHTML = `<span class="hi-q">${text}</span><span class="hi-badge ${cls[ans]}">${labels[ans]}</span>`;
  list.insertBefore(row, list.firstChild);
  document.getElementById('hist-card').style.display = 'block';
}

// â”€â”€ Make Guess â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function doGuess(place, conf){
  STATE.guess = {place, conf};
  document.getElementById('g-name').textContent = place.name;
  document.getElementById('g-loc').textContent  = `${place.country} Â· ${place.continent}`;
  document.getElementById('g-pct').textContent  = conf+'%';
  document.getElementById('g-conf-fill').style.width = conf+'%';
  // Copy history
  document.getElementById('g-hist').innerHTML = document.getElementById('hist-list').innerHTML;
  showS('s-guess');
}

function correctGuess(){
  STATE.wins++; STATE.streak++;
  updateHdr();
  const {place, conf} = STATE.guess;
  document.getElementById('win-pname').textContent = place.name;
  document.getElementById('st-q').textContent = STATE.qIdx;
  document.getElementById('st-c').textContent = conf+'%';
  document.getElementById('st-s').textContent = STATE.streak;
  document.getElementById('win-gfx').textContent = STATE.qIdx<=5?'ğŸ§ ':STATE.qIdx<=10?'ğŸ‰':'ğŸ˜…';
  spawnParticles();
  showS('s-win');
}

function wrongGuess(){
  // Bayesian: set this place's probability near zero and renormalize
  const {place} = STATE.guess;
  STATE.candidates = STATE.candidates.map(c=>
    c.place.id===place.id ? {...c, prob:0.0001} : c
  );
  normalize();
  showToast("Hmm, let me reconsiderâ€¦ ğŸ¤”");

  // Check if we still have viable candidates before guessing again
  const threshold = 0.8 / STATE.totalPlaces;
  const activeCands = STATE.candidates.filter(c => c.prob > threshold).length;

  if(activeCands === 0){ showS('s-reveal'); return; }

  showS('s-game');
  // Continue asking questions instead of immediately re-guessing
  setTimeout(nextQ, 500);
}

function resetGame(){ STATE.streak=0; updateHdr(); showS('s-welcome'); }

// â”€â”€ Particles (win) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function spawnParticles(){
  const wrap = document.getElementById('particles');
  wrap.innerHTML='';
  const colors=['#7c6fff','#f472b6','#4ade80','#fb923c','#38bdf8','#eab308'];
  for(let i=0;i<22;i++){
    const p=document.createElement('div');
    p.className='p';
    p.style.cssText=`left:${Math.random()*100}%;background:${colors[i%colors.length]};
      width:${4+Math.random()*6}px;height:${4+Math.random()*6}px;
      animation-duration:${2+Math.random()*3}s;animation-delay:${Math.random()*.8}s`;
    wrap.appendChild(p);
  }
  setTimeout(()=>wrap.innerHTML='',6000);
}

// â”€â”€ Reveal Screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function onReveal(){
  const val = document.getElementById('reveal-in').value.toLowerCase();
  const wrap = document.getElementById('reveal-chips');
  wrap.innerHTML='';
  if(!val) return;
  const matches = STATE.places.filter(p=>
    p.name.toLowerCase().includes(val)||p.country.toLowerCase().includes(val)
  ).slice(0,5);
  matches.forEach(p=>{
    const c=document.createElement('div');
    c.className='chip'; c.textContent=p.name;
    c.onclick=()=>{ document.getElementById('reveal-in').value=p.name; wrap.innerHTML=''; };
    wrap.appendChild(c);
  });
}

function doReveal(){
  const val=document.getElementById('reveal-in').value.trim();
  if(!val){ showToast('Please enter the place name!'); return; }
  showToast(`Thanks! "${val}" will be added in future updates ğŸŒ`);
  setTimeout(resetGame,2200);
}

// â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updateHdr(){
  document.getElementById('hdr-g').textContent = STATE.games;
  document.getElementById('hdr-w').textContent = STATE.wins;
  document.getElementById('hdr-s').textContent = STATE.streak;
}

// â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let _tt;
function showToast(msg){
  const t=document.getElementById('toast');
  t.textContent=msg; t.classList.add('show');
  clearTimeout(_tt); _tt=setTimeout(()=>t.classList.remove('show'),3200);
}

// â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
window.addEventListener('DOMContentLoaded', loadData);
</script>
</body>
</html>
